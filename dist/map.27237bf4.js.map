{"version":3,"sources":["map.js"],"names":["mapboxgl","accessToken","Marker","map","Map","on","e","addSource","parks","buildLocationList","data","currentFeature","features","i","prop","properties","listings","document","getElementById","listing","appendChild","createElement","className","id","link","href","dataPosition","innerHTML","displayName","addEventListener","clickedListing","flyToStore","createPopUp","activeItem","getElementsByClassName","classList","remove","parentNode","add","flyTo","geometry","coordinates","details","maxRvSize","phone","phoneFormatted","forEach","marker","el","stopPropagation","console","log","setLngLat","addTo","length","popUps","popup","Popup","setHTML","Element","prototype","removeChild","maxSize","input","value","inputInt","parseInt","querySelectorAll","maxInt","isNaN","style","display"],"mappings":"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","file":"map.27237bf4.js","sourceRoot":"..","sourcesContent":["mapboxgl.accessToken = 'pk.eyJ1IjoibWFjYW5pY2EiLCJhIjoiY2p0cDkyY3J6MDI4MTN5cGx0dXhtNXpyaCJ9.3OVQDTl8MJQ2HkywQgSV5w';\nmapboxgl.Marker();\n// This adds the map to your page\nvar map = new mapboxgl.Map({\n    // container id specified in the HTML\n    \"container\": 'map',\n    // style URL\n    \"style\": 'mapbox://styles/mapbox/light-v10',\n    // initial position in [lon, lat] format\n    \"center\": [ -77.034084, 38.909671 ],\n    // initial zoom\n    \"zoom\": 14\n});\n\nmap.on('load', function(e){\n    // Add the data to your map as a layer\n    map.addSource('places', {\n        \"type\": 'geojson',\n        \"data\": parks\n    });\n    buildLocationList(parks);\n});\n\n\nfunction buildLocationList(data){\n    // Iterate through the list of parks\n    for(i = 0; i < data.features.length; i++){\n        var currentFeature = data.features[i];\n        // Shorten data.feature.properties to `prop` so we're not\n        // writing this long form over and over again.\n        var prop = currentFeature.properties;\n        // Select the listing container in the HTML and append a div\n        // with the class 'item' for each store\n        var listings = document.getElementById('listings');\n        var listing = listings.appendChild(document.createElement('div'));\n\n        listing.className = 'item';\n        listing.id = 'listing-' + i;\n\n        // Create a new link with the class 'title' for each store\n        // and fill it with the store address\n        var link = listing.appendChild(document.createElement('a'));\n\n        link.href = '#';\n        link.className = 'title';\n        link.dataPosition = i;\n        link.innerHTML = prop.displayName;\n        // Add an event listener for the links in the sidebar listing\n        link.addEventListener('click', function(e){\n            // Update the currentFeature to the store associated with the clicked link\n            var clickedListing = data.features[this.dataPosition];\n            // 1. Fly to the point associated with the clicked link\n\n            flyToStore(clickedListing);\n            // 2. Close all other popups and display popup for clicked store\n            createPopUp(clickedListing);\n            // 3. Highlight listing in sidebar (and remove highlight for all other listings)\n            var activeItem = document.getElementsByClassName('active');\n\n            if(activeItem[0]){\n                activeItem[0].classList.remove('active');\n            }\n            this.parentNode.classList.add('active');\n        });\n\n        function flyToStore(currentFeature){\n            map.flyTo({\n                \"center\": currentFeature.geometry.coordinates,\n                \"zoom\": 15\n            });\n        }\n\n        // Create a new div with the class 'details' for each store\n        // and fill it with the city and phone number\n        var details = listing.appendChild(document.createElement('div'));\n\n        if(prop.maxRvSize){\n            details.innerHTML += 'Max Size Limit: ' + '<span class=\"maxaRvSize\">' + prop.maxRvSize + '</span>' + ' Feet';\n        }\n        if(prop.phone){\n            details.innerHTML += '<br>Phone: ' + prop.phoneFormatted;\n        }\n\n        parks.features.forEach(function(marker){\n            // Create a div element for the marker\n            var el = document.createElement('div');\n            // Add a class called 'marker' to each div\n\n            el.className = 'marker';\n            el.addEventListener('click', function(e){\n                var activeItem = document.getElementsByClassName('active');\n                // 1. Fly to the point\n\n                flyToStore(marker);\n                // 2. Close all other popups and display popup for clicked store\n                createPopUp(marker);\n                // 3. Highlight listing in sidebar (and remove highlight for all other listings)\n                e.stopPropagation();\n                if(activeItem[0]){\n                    activeItem[0].classList.remove('active');\n                }\n                var listing = document.getElementById('listing-' + i);\n\n                console.log(listing);\n                listing.classList.add('active');\n            });\n            // By default the image for your custom marker will be anchored\n            // by its center. Adjust the position accordingly\n            // Create the custom markers, set their position, and add to map\n            new mapboxgl.Marker(el, { \"offset\": [ 0, -23 ] })\n                .setLngLat(marker.geometry.coordinates)\n                .addTo(map);\n        });\n    }\n}\n\nfunction createPopUp(currentFeature){\n    var popUps = document.getElementsByClassName('mapboxgl-popup');\n    // Check if there is already a popup on the map and if so, remove it\n\n    if(popUps[0]) {popUps[0].remove();}\n\n    var popup = new mapboxgl.Popup({ \"closeOnClick\": false })\n        .setLngLat(currentFeature.geometry.coordinates)\n        .setHTML('<h3>Park Information</h3>' +\n      '<h4>' + currentFeature.properties.displayName + '<br>Max RV Size: ' + currentFeature.properties.maxRvSize + ' feet' + '<br>Phone:' + currentFeature.properties.phoneFormatted + '</h4>')\n        .addTo(map);\n}\n\n// This will let you use the .remove() function later on\nif(!('remove' in Element.prototype)){\n    Element.prototype.remove = function(){\n        if(this.parentNode){\n            this.parentNode.removeChild(this);\n        }\n    };\n}\n\nfunction maxSize(){\n    var input = document.getElementById('RigSize').value;\n    var inputInt = parseInt(input, 10);\n\n    var i;\n    var maxSize = document.getElementById('listings').querySelectorAll('.maxaRvSize');\n\n    for(i = 0; i < maxSize.length; i++){\n        var maxInt = parseInt(maxSize[i].innerHTML, 10);\n\n        if(maxInt >= inputInt || input === '' || isNaN(input)){\n            maxSize[i].parentNode.parentNode.style.display = 'block';\n        }\n else{\n            maxSize[i].parentNode.parentNode.style.display = 'none';\n        }\n    }\n}\n"]}